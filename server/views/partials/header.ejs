<header class="header glass container">
    <nav class="flex justify-between items-center">
        <div class="flex items-center gap-8">
            <a href="/" class="header-title flex items-center gap-2">
                <i class="fa-solid fa-graduation-cap text-primary"></i>
                <span>Test Series Hub</span>
            </a>
        </div>

        <ul class="nav-links">
            <% if (user) { %>
                <li><a href="/">Dashboard</a></li>
                <% if (user.isAdmin) { %>
                    <li><a href="/admin" class="pill-outline">Admin Panel</a></li>
                    <% } %>
                        <li class="flex items-center gap-2">
                            <div
                                class="h-8 w-8 rounded-full bg-rose-50 flex items-center justify-center text-rose-500 font-bold text-xs">
                                <%= user.name.charAt(0).toUpperCase() %>
                            </div>
                        </li>
                        <li><a href="/logout"
                                class="text-xs font-semibold text-rose-500 hover:text-rose-600 transition">Logout</a>
                        </li>
                        <% } else { %>
                            <li><a href="javascript:void(0)" onclick="openAuthModal('login')"
                                    class="text-sm font-medium text-slate-600 hover:text-primary transition">Log in</a>
                            </li>
                            <li><a href="javascript:void(0)" onclick="openAuthModal('register')" class="btn-primary"
                                    style="padding: 0.5rem 1rem; font-size: 0.75rem;">Sign up</a></li>
                            <% } %>
        </ul>
    </nav>
</header>

<!-- Auth Modal -->
<div id="authModal" class="modal-overlay hidden">
    <div class="modal-container">
        <button class="modal-close" onclick="closeAuthModal()">&times;</button>

        <div id="loginForm" class="auth-form-content">
            <h2 class="text-2xl font-bold mb-6">Log in</h2>
            <form id="ajaxLoginForm">
                <div class="mb-4">
                    <input type="email" name="email" class="input" placeholder="Email" required>
                </div>
                <div class="mb-4">
                    <input type="password" name="password" class="input" placeholder="Password" required>
                </div>
                <div id="loginError" class="text-rose-500 text-xs mb-4 hidden"></div>
                <button type="submit" class="btn-primary w-full py-3 mb-4">Continue</button>
            </form>
            <p class="text-sm text-center">New here? <a href="javascript:void(0)" onclick="switchAuthMode('register')"
                    class="font-bold text-primary">Create an account</a></p>
        </div>

        <div id="registerForm" class="auth-form-content hidden">
            <h2 class="text-2xl font-bold mb-6">Sign up</h2>
            <form id="ajaxRegisterForm">
                <div class="mb-4">
                    <input type="text" name="name" class="input" placeholder="Name" required>
                </div>
                <div class="mb-4">
                    <input type="email" name="email" class="input" placeholder="Email" required>
                </div>
                <div class="mb-4">
                    <input type="password" name="password" class="input" placeholder="Password" required>
                </div>
                <div id="registerError" class="text-rose-500 text-xs mb-4 hidden"></div>
                <button type="submit" class="btn-primary w-full py-3 mb-4">Continue</button>
            </form>
            <p class="text-sm text-center">Already have an account? <a href="javascript:void(0)"
                    onclick="switchAuthMode('login')" class="font-bold text-primary">Log in</a></p>
        </div>
    </div>
</div>

<script src="/js/auth.js"></script>